-- Initial hpython-test.cabal generated by cabal init.  For further
-- documentation, see http://haskell.org/cabal/users-guide/

name:                hpython-test
version:             0.1.0.0
synopsis:            Tests for hpython
description:
  hpython-tests is the big test suite for hpython. hpython comes with a
  small test suite. hpython-tests contains the tests which need to call out to
  the Python interpreter, thus are extremely unportable.

license:             BSD3
license-file:        LICENCE
author:              Isaac Elliott
maintainer:          isaace71295@gmail.com
-- copyright:
category:            Testing
build-type:          Simple
-- extra-source-files:
cabal-version:       >=1.10

tested-with:           GHC == 8.0.2
                     , GHC == 8.2.2
                     , GHC == 8.4.4
                     , GHC == 8.6.4

flag development
  default: False
  manual: True

library
  exposed-modules:
    Generators.Common
    Generators.Correct
    Generators.General
    Generators.Sized
    DSL
    Printer
    TrailingWhitespace
  build-depends:       base >=4.9 && <4.13
                     , hedgehog >= 0.5 && < 0.7
                     , lens >= 4 && < 4.18
                     , digit
                     , these
                     , hpython
                     , mtl
                     , text >= 1.2
  hs-source-dirs:      src
  default-language:    Haskell2010
  ghc-options:         -Wall
                       -Wincomplete-patterns
                       -Wincomplete-record-updates
                       -Wunused-imports
                       -fno-warn-name-shadowing
  if flag(development)
    ghc-options:       -Werror


test-suite test
  main-is:             Main.hs
  type:                exitcode-stdio-1.0
  hs-source-dirs:      test
  default-language:    Haskell2010
  ghc-options:         -Wall
                       -Wincomplete-patterns
                       -Wincomplete-record-updates
                       -Wunused-imports
                       -fno-warn-name-shadowing
  if flag(development)
    ghc-options:       -Werror
  build-depends:       base >=4.9 && <4.13
                     , lens >= 4 && < 4.18
                     , text >=1.2 && <1.3
                     , directory
                     , hedgehog >= 0.5 && < 0.7
                     , hpython
                     , hpython-test
                     , mtl
                     , process
                     , validation >= 1 && < 1.1
